<!DOCTYPE html>
<html lang="en">

<head>
	<title>JavaScript/Ajax Programming Assignment 8</title>

	<meta charset="UTF-8">
	<meta name="description" content="Various descriptions and demos about AJAX.">
	<meta name="keywords" content="HTML5, CSS, JavaScript, Ajax">
	<meta name="author" content="colorignition">

	<link rel="stylesheet" href="/styles.css">

	<style>
		.example-img {
			max-width: 100%;
			max-height: 50%;
		}
	</style>
</head>

<body>
	<!-- Side Nav -->
	<script id="navbar" src="/nav.js"></script>

	<!-- Main -->
	<main>
		<header>
			<h1>AJAX Application</h1>
			<h2>/ Assignment 8</h2>
		</header>
		<a href="/index.html">ðŸ¡¸ Back to Home</a>
		<br>
		
		<h2>AJAX: CD List</h2>
		<h3>Demonstration</h3>
		<p>Pressing the button below will retrieve a CD collection from the corresponding XML file in the website server, then generate a table to display on this page.</p>

		<button type="button" onclick="loadDoc()">Get CD collection</button>
		<br>
		<table id="demo"></table>

		<br>

		<h3>Explanation</h3>

		<p>The button <i>Get CD collection</i> is assigned the <strong>loadDoc()</strong> JavaScript function as the action when clicked. When the <strong>loadDoc()</strong> function is called, a new <strong>XMLHttpRequest</strong> object called <i>xhttp</i> is created to parse an XML file. When the <i>xhttp</i> object is loaded, a separate function named <strong>makeCDTable()</strong> is called to parse and create a table for the XML data. The <i>xhttp</i> object prepares the request in the <strong>open()</strong> function as using the "GET" method and the <strong>cd_catalog.xml</strong> file, and then sends the request to the server with the <strong>send()</strong> function.</p>

		<p>The <strong>makeCDTable()</strong> function first references the file received from the <i>xhttp</i> object as <i>xmlDoc</i>. Then the file is parsed for the <i>CD</i> tag by calling the <strong>getElementsByTagName()</strong> function on the <i>xmlDoc</i> object. Using the result, an HTML table is generated by extracting the data denoted by the child tags, which correspond to the headers of the table. After generating the table, the HTML element with the ID <i>demo</i> is assigned the newly generated table.</p> 

		<br>

		<h2>REST API: CATAAS</h2>
		<h3>Demonstration</h3>
		<p>The form will retrieve a random image of a cat from the API, with date created and tags included. Options include retrieving a static or animated image, applying a filter, and adding text to the image. The only field required is the Type, and all other fields are optional. Using the optional fields may cause the image to show later than usual, due to processing.</p>

		<form>
			<div class="grid-container" style="grid-template-columns:40% 55%;">
				<label>Type</label>
				<div>
					<input type="radio" id="in-type-0" name="in-type" value="0" checked>
					<label for="in-type-0">Normal</label><br>

					<input type="radio" id="in-type-1" name="in-type" value="1">
					<label for="in-type-1">Animated</label><br>
				</div>

				<label for="in-filter">Filter</label>
				<select name="in-filter" id="in-filter">
					<option value="none">--</option>
					<option value="mono">Monochrome</option>
					<option value="negate">Invert Color</option>
				</select>

				<label>Text</label>
				<input type="text" id="in-text" name="in-text">
			</div>
			
			<input type="button" value="Get Cat" onclick="processForm();">
			<input type="reset" value="Reset">
		</form>

		<br>
		<div id="example"></div>

		<h3>Explanation</h3>
		<a href="https://cataas.com">External Link to API website</a>

		<p>CATAAS (Cat As A Service) is a REST API to spread peace and love (or not) thanks to cats. The API currently has 1987 cats as of now. There is no charge to use the API, but any donations is appreciated by the maintainer! There is also no need for a key to access the API.</p> 

		<p>The API normally returns an <strong>image</strong> when a GET request is sent to the API URL, but the API can also return a <strong>JSON</strong> file or a <strong>HTML</strong> file. For the purposes of the demo on this page, the JSON is requested. The additional data in the JSON includes the <strong>date</strong> the image was created and the <strong>tags</strong> associated with the image, as well as a unique ID associated with the image. </p>

		<p>It is possible to request a random cat image by searching for any tag, or even request a specific image via an ID. There are also other options to alter the image result, including color filters, sizes, or even text. All of the options are not mutually exclusive, so it is possible to mix and match results.</p>
	</main>

	<script src="main.js"></script>
</body>

</html>